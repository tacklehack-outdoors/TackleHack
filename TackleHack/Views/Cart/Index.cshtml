@model IEnumerable<TackleHack.Models.Cart>

@{
    ViewData["Title"] = "Index";
}

<div class="container">
    <div class="row">
        <div class="col-lg-3">
            <ul class="nav nav-pills flex-column">
                <li class="nav-item"><a class="nav-link active" id="items" href="#">Items</a></li>
                <li class="nav-item"><a class="nav-link" id="payments" href="#">Payment Methods</a></li>
                <li class="nav-item"><a class="nav-link" id="addresses" href="#">Addresses</a></li>
            </ul>
        </div>
        <div class="col-lg-9">
            @if (Model.Count() > 0)
            {
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>
                                Product
                            </th>
                            <th>

                            </th>
                            <th>
                                Price
                            </th>
                            <th>
                                Quantity
                            </th>
                            <th>

                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>
                                    <a asp-area="" asp-controller="Shop" asp-action="Details" asp-route-id="@item.Id"><img class="img-fluid rounded shadow-sm" src="http://placehold.it/90x60" alt=""></a>
                                </td>
                                <td>
                                    <h5 class="mb-0">
                                        <a asp-area="" asp-controller="Shop" asp-action="Details" asp-route-id="@item.Id" class="text-dark d-inline-block align-middle">
                                            @Html.DisplayFor(modelItem => item.Product.ProductName)
                                        </a>
                                    </h5>
                                </td>
                                <td class="border-0 align-middle">
                                    <strong>$@Html.DisplayFor(modelItem => item.Product.Msrp)</strong>
                                </td>
                                <td class="border-0 align-middle">
                                    <strong>@Html.DisplayFor(modelItem => item.Quantity)</strong>
                                </td>
                                <td class="border-0 align-middle">
                                    <a style="text-decoration: none !important" asp-area="" asp-controller="Cart" asp-action="Delete" asp-route-id="@item.Id">
                                        <i class="fas fa-trash"></i>
                                    </a>
                                </td>
                            </tr>
                        }
                        <tr>
                            <td></td>
                            <td style="text-align: right;"><strong>Total:</strong></td>
                            <td><strong>$@(Math.Round(Model.ToList().Select(x => x.Product.Msrp).Sum(), 2))</strong></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
             }
        </div>
    </div>
</div>
